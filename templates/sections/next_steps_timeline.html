{# 
  Next Steps Timeline Section - 30/60/90 Day Plan
  Should appear near the end, before Strategic Recommendations
#}

<section class="section page" data-page="next-steps" data-section="next_steps" id="next_steps">
    <h1 class="section-title">Next Steps: 30/60/90 Day Plan</h1>
    
    <div class="timeline-container">
        <p class="timeline-intro">
            This implementation roadmap prioritizes quick wins and high-impact opportunities, 
            structured to deliver measurable results within 90 days.
        </p>
        
        <!-- Horizontal Timeline Layout -->
        <div class="timeline-grid">
            
            <!-- 30 Day Phase -->
            <div class="timeline-phase phase-30">
                <div class="phase-header">
                    <div class="phase-number">30</div>
                    <h2 class="phase-title">Foundation & Quick Wins</h2>
                    <p class="phase-subtitle">Days 1-30: Establish baseline</p>
                </div>
                
                <div class="phase-tasks">
                    {% if strategic_recommendations_data and strategic_recommendations_data.quick_wins %}
                        {% for quick_win in strategic_recommendations_data.quick_wins[:3] %}
                        <div class="task-item">
                            <div class="task-checkbox">‚òê</div>
                            <div class="task-content">
                                {% if quick_win is mapping %}
                                    <h4 class="task-title">{{ quick_win.get("title", quick_win.get("recommendation", "Quick Win")) }}</h4>
                                    <p class="task-description">{{ quick_win.get("description", quick_win.get("action", "")) }}</p>
                                {% else %}
                                    <h4 class="task-title">{{ quick_win }}</h4>
                                {% endif %}
                            </div>
                        </div>
                        {% endfor %}
                    {% else %}
                        <div class="task-item">
                            <div class="task-checkbox">‚òê</div>
                            <div class="task-content">
                                <h4 class="task-title">Technical Audit & Verification</h4>
                                <p class="task-description">Complete technical diagnostic and verify integrations</p>
                            </div>
                        </div>
                        <div class="task-item">
                            <div class="task-checkbox">‚òê</div>
                            <div class="task-content">
                                <h4 class="task-title">Baseline Metrics Dashboard</h4>
                                <p class="task-description">Create tracking for engagement, conversion, and revenue</p>
                            </div>
                        </div>
                        <div class="task-item">
                            <div class="task-checkbox">‚òê</div>
                            <div class="task-content">
                                <h4 class="task-title">Critical Flow Optimizations</h4>
                                <p class="task-description">Address highest-impact flow improvements</p>
                            </div>
                        </div>
                    {% endif %}
                </div>
            </div>
            
            <!-- 60 Day Phase -->
            <div class="timeline-phase phase-60">
                <div class="phase-header">
                    <div class="phase-number">60</div>
                    <h2 class="phase-title">Expansion & Optimization</h2>
                    <p class="phase-subtitle">Days 31-60: Scale initiatives</p>
                </div>
                
                <div class="phase-tasks">
                    <div class="task-item">
                        <div class="task-checkbox">‚òê</div>
                        <div class="task-content">
                            <h4 class="task-title">Launch Campaign Calendar</h4>
                            <p class="task-description">Consistent 2-3x weekly sends to engaged segments</p>
                        </div>
                    </div>
                    <div class="task-item">
                        <div class="task-checkbox">‚òê</div>
                        <div class="task-content">
                            <h4 class="task-title">Advanced Segmentation</h4>
                            <p class="task-description">Deploy engagement-based segmentation tracks</p>
                        </div>
                    </div>
                    <div class="task-item">
                        <div class="task-checkbox">‚òê</div>
                        <div class="task-content">
                            <h4 class="task-title">Expand Flow Library</h4>
                            <p class="task-description">Add winback, back-in-stock, and VIP flows</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 90 Day Phase -->
            <div class="timeline-phase phase-90">
                <div class="phase-header">
                    <div class="phase-number">90</div>
                    <h2 class="phase-title">Advanced Strategies</h2>
                    <p class="phase-subtitle">Days 61-90: Scale & optimize</p>
                </div>
                
                <div class="phase-tasks">
                    <div class="task-item">
                        <div class="task-checkbox">‚òê</div>
                        <div class="task-content">
                            <h4 class="task-title">Product Recommendations</h4>
                            <p class="task-description">Integrate recommendation engine for increased AOV</p>
                        </div>
                    </div>
                    <div class="task-item">
                        <div class="task-checkbox">‚òê</div>
                        <div class="task-content">
                            <h4 class="task-title">A/B Testing Framework</h4>
                            <p class="task-description">Systematic testing for subject lines and content</p>
                        </div>
                    </div>
                    <div class="task-item">
                        <div class="task-checkbox">‚òê</div>
                        <div class="task-content">
                            <h4 class="task-title">Performance Review</h4>
                            <p class="task-description">90-day review and next quarter strategy</p>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
        
        <!-- Success Metrics -->
        <div class="success-metrics-section">
            <h2 class="subsection-title">Success Metrics to Track</h2>
            <div class="metrics-grid">
                <div class="metric-item">
                    <span class="metric-icon">üìà</span>
                    <span class="metric-name">KAV Percentage</span>
                    <span class="metric-target">Target: 30%+</span>
                </div>
                <div class="metric-item">
                    <span class="metric-icon">üí∞</span>
                    <span class="metric-name">Attributed Revenue</span>
                    <span class="metric-target">Target: 15-20% increase</span>
                </div>
                <div class="metric-item">
                    <span class="metric-icon">üìß</span>
                    <span class="metric-name">Campaign Frequency</span>
                    <span class="metric-target">Target: 2-3x weekly</span>
                </div>
                <div class="metric-item">
                    <span class="metric-icon">üîÑ</span>
                    <span class="metric-name">Flow Conversion Rates</span>
                    <span class="metric-target">Target: Meet/exceed benchmarks</span>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
.timeline-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
}

.timeline-intro {
    font-family: 'Montserrat', sans-serif;
    font-size: 1rem;
    line-height: 1.8;
    color: #262626;
    margin-bottom: 2rem;
    text-align: center;
}

/* Horizontal Grid Layout */
.timeline-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 1.5rem;
    margin-bottom: 3rem;
}

.timeline-phase {
    background: #FFFFFF;
    border: 2px solid #E5E7EB;
    border-radius: 8px;
    padding: 1.5rem;
    position: relative;
    height: fit-content;
    transition: all 0.3s ease;
}

.timeline-phase:hover {
    border-color: #65DA4F;
    box-shadow: 0 4px 12px rgba(101, 218, 79, 0.15);
}

/* Phase-specific styling */
.phase-30 { border-top: 4px solid #65DA4F; }
.phase-60 { border-top: 4px solid #EB9E1D; }
.phase-90 { border-top: 4px solid #262626; }

.phase-header {
    text-align: center;
    margin-bottom: 1.5rem;
    position: relative;
}

.phase-number {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 2.5rem;
    color: #FFFFFF;
    background: #65DA4F;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    font-weight: 700;
    margin: 0 auto 1rem auto;
    box-shadow: 0 2px 8px rgba(101, 218, 79, 0.3);
}

.phase-60 .phase-number { background: #EB9E1D; }
.phase-90 .phase-number { background: #262626; }

.phase-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.1rem;
    color: #000000;
    text-transform: uppercase;
    margin-bottom: 0.25rem;
    line-height: 1.2;
    letter-spacing: 0.02em;
}

.phase-subtitle {
    font-family: 'Montserrat', sans-serif;
    font-size: 0.8rem;
    color: #666;
    font-style: italic;
    margin-bottom: 0;
}

.phase-tasks {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.task-item {
    display: flex;
    gap: 0.75rem;
    padding: 0.75rem;
    background: #F9FAFB;
    border: 1px solid #E5E7EB;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.task-item:hover {
    border-color: #65DA4F;
    background: #F0FDF4;
}

/* Responsive Design */
@media (max-width: 768px) {
    .timeline-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .timeline-container {
        padding: 0 0.5rem;
    }
}

.task-checkbox {
    font-size: 1.25rem;
    color: #65DA4F;
    line-height: 1;
    margin-top: 0.25rem;
    min-width: 24px;
    text-align: center;
}

.task-content {
    flex: 1;
}

.task-title {
    font-family: 'Montserrat', sans-serif;
    font-size: 0.95rem;
    font-weight: 700;
    color: #000000;
    margin-bottom: 0.25rem;
    line-height: 1.3;
}

.task-description {
    font-family: 'Montserrat', sans-serif;
    font-size: 0.8rem;
    line-height: 1.4;
    color: #666;
}

.subsection-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.75rem;
    color: #000000;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    margin: 3rem 0 1.5rem 0;
    border-bottom: 2px solid #65DA4F;
    padding-bottom: 0.5rem;
}

.success-metrics-section {
    margin: 4rem 0 2rem 0;
    padding: 2rem;
    background: #FFFFFF;
    border: 2px solid #65DA4F;
    border-radius: 8px;
}

.metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-top: 1.5rem;
}

.metric-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 1rem;
    background: #F9FAFB;
    border-radius: 4px;
}

.metric-icon {
    font-size: 2rem;
    margin-bottom: 0.5rem;
}

.metric-name {
    font-family: 'Montserrat', sans-serif;
    font-size: 0.9rem;
    font-weight: 600;
    color: #000000;
    margin-bottom: 0.25rem;
}

.metric-target {
    font-family: 'Montserrat', sans-serif;
    font-size: 0.8rem;
    color: #65DA4F;
    font-weight: 600;
}
</style>

